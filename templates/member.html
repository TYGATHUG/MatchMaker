{% extends 'main.html' %}

{% block body %}

    {% with messages=get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                    <script>
                        toastr.options = {
                            "closeButton": true,
                            "debug": false,
                            "newestOnTop": true,
                            "progressBar": true,
                            "positionClass": "toast-top-center",
                            "preventDuplicates": true,
                            "onclick": null,
                            "showDuration": "2000",
                            "hideDuration": "2000",
                            "timeOut": "2500",
                            "extendedTimeOut": "1000",
                            "showEasing": "swing",
                            "hideEasing": "linear",
                            "showMethod": "fadeIn",
                            "hideMethod": "fadeOut",
                            "closeMethod": "fadeOut"
                        }
                        toastr["success"]("Welcome {{ name }} !", "{{ message }}")
                    </script>
            {% endfor %}
        {% endif %}
    {% endwith %}


    {% if curr_user_table.setup == False %}
        <section id="intro" class="section intro no-padding">
        <div class="container-fluid">
            <blockquote class="site-info" style="height: 640px !important;">
                <h2 style="text-align: center">Welcome aboard the love train !</h2>
                <h1>Please set up your profile to begin.</h1>

                <form action="/profile">
                    <div class="form-single-input">
                        <div class="form-group col_1_of_1" style="margin-bottom: 100px;">
                            <button type="submit" class="btn btn-default" style="letter-spacing: 1px;">Setup Profile</button>
                        </div>
                    </div>
                </form>

            </blockquote>
        </div>
    </section>
    {% else %}
        <section id="intro" class="section intro no-padding">
        <div class="container-fluid">
            <blockquote class="site-info">
                <h1>Home</h1>
                <br><br>


                <div class="tab">
                    <button class="tablinks" onclick="openCity(event, 'match')" id="defaultOpen" style="border-left: 1px solid #ccc;">Match</button>
                    <button class="tablinks" onclick="openCity(event, 'chat')">Chat</button>
                    <button class="tablinks" onclick="openCity(event, 'setting')">Settings</button>
                </div>

                <div id="match" class="tabcontent">
                    <img src="../static/images/other/match_demo.png" width="100%">
                    <p><b>Need to add expand div here to show matches profile</b></p>

                    <h1>user</h1>
                    {% for user in highest_match_users %}
                        {{ user }}
                    {% endfor %}

                </div>

                <div id="chat" class="tabcontent">
                    <img src="../static/images/other/chat_demo.png" width="100%">
                    <p><b>Need to figure out the format of chats with multiple users...</b></p>
                </div>

                <div id="setting" class="tabcontent">
                    <img src="../static/images/other/settings_demo.jpg" width="100%">
                    <p><b>Quick setting toggles will go here (Age/Gender Preference)</b></p>
                </div>


                <script>
                    // Content Area
                    function openCity(evt, pageName) {
                        var i, tabcontent, tablinks;
                        tabcontent = document.getElementsByClassName("tabcontent");
                        for (i = 0; i < tabcontent.length; i++) {
                            tabcontent[i].style.display = "none";
                        }
                        tablinks = document.getElementsByClassName("tablinks");
                        for (i = 0; i < tablinks.length; i++) {
                            tablinks[i].className = tablinks[i].className.replace(" active", "");
                        }
                        document.getElementById(pageName).style.display = "block";
                        evt.currentTarget.className += " active";
                    }

                    // Get the element with id="defaultOpen" and click on it
                    document.getElementById("defaultOpen").click();
                </script>

                <br><br><br><br>
            </blockquote>
        </div>
    </section>
    {% endif %}

{% endblock %}
